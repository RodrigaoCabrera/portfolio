---
import UserIcon from "../icons/UserIcon.astro";
import ContactIcon from "../icons/ContactIcon.astro";
import ExperienceIcon from "../icons/ExperienceIcon.astro";
import ProjectsIcon from "../icons/ProjectsIcon.astro";
---

<footer>
  <section>
    <a href="#home" aria-label="ir a inicio">
      <div class="icon" id="home">
        <UserIcon width="25" height="25" fill="none" stroke="#4f7396" />
      </div>
    </a>
    <a href="#experience" aria-label="ir a sección de experiencia">
      <div class="icon" id="experience">
        <ExperienceIcon width="25" height="25" fill="#4f7396" />
      </div>
    </a>
    <a href="#projects" aria-label="ir a sección de proyectos">
      <div class="icon" id="projects">
        <ProjectsIcon width="24" height="24" fill="none" stroke="#4f7396" />
      </div>
    </a>
    <a href="#contact" aria-label="ir a sección de contacto">
      <div class="icon" id="contact">
        <ContactIcon width="25" height="25" stroke="#4f7396" />
      </div>
    </a>
  </section>
</footer>

<script>
  document.addEventListener("astro:page-load", () => {
    const footerNavLinks = document.querySelectorAll(".icon");

    footerNavLinks.forEach((footerNavLink) => {
      footerNavLink.addEventListener("click", (e) => {
        footerNavLinks.forEach((link) => {
          link.classList.remove("active");
        });

        footerNavLink.classList.add("active");
      });
    });
  });
</script>

<style>
  footer {
    height: 74px;
    margin-top: 16px;
  }
  section {
    position: fixed;
    bottom: 0;
    left: 50%;
    translate: -50% 0;
    width: 100%;
    max-width: 46rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 16px;
    box-sizing: border-box;
    border-top: 1px solid var(--accent);
    gap: 0 5px;
    background-color: var(--primary-color);
  }

  a {
    border-radius: var(--secondary-border-radius);
    text-decoration: none;
  }
  div.icon {
    display: flex;
    padding: 16px;
    border-radius: var(--secondary-border-radius);
  }
  div.active {
    background-color: var(--accent);
  }
  div.active svg {
    fill: var(--dark-color);
  }
  :is(div#projects.active, div#contact.active) svg {
    stroke: var(--dark-color);
    fill: none;
  }

  /* DESKTOP */
  @media (min-width: 768px) {
    section {
      border: 1px solid var(--accent);
      bottom: 8px;
      border-radius: var(--border-radius);
      padding: 8px;
    }
  }
</style>
